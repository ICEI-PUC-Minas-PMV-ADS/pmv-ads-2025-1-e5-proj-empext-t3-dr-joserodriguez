@{
    ViewData["Title"] = "Tela Home";
}

<link rel="stylesheet" href="~/css/home.css" />

<!-- Seção de Vídeo -->
<div class="row mb-5">
    <div class="col-12">
        <div class="video-container">
            <video width="100%" autoplay muted loop playsinline>
                <source src="/img/home.mp4" type="video/mp4">
                Seu navegador não suporta a exibição de vídeos.
            </video>
        </div>
    </div>
</div>

<!-- Título da Seção -->
<div class="section-title">
    <h2>Conheça nossos tratamentos</h2>
</div>

<!-- Seção de Carrossel de Cards -->
<div id="carouselServicos" class="carousel slide" data-bs-ride="carousel">
    <!-- Indicadores do carrossel -->
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselServicos" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselServicos" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselServicos" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>

    <div class="carousel-inner">
        <!-- Primeira página de cards -->
        <div class="carousel-item active">
            <div class="card-container">
                <!-- Card 1 -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-tooth"></i>
                            </div>
                            <h4 class="card-title">Clínica Geral</h4>
                            <p class="card-text preview-text">Procedimentos básicos e preventivos para manter sua saúde bucal.</p>
                            <div class="details-content" id="details-1">
                                <p>A Clínica Geral oferece atendimentos preventivos e exames periódicos. Entre os procedimentos estão limpezas e orientações de cuidados diários.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="1">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="1" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-syringe"></i>
                            </div>
                            <h4 class="card-title">Endodontia</h4>
                            <p class="card-text preview-text">Tratamento de canal para dentes com infecção ou dor.</p>
                            <div class="details-content" id="details-2">
                                <p>Endodontia resolve problemas de infecção na polpa dentária com tratamentos de canal. Ajudamos a salvar seu dente e aliviar dores intensas.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="2">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="2" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-tooth"></i>
                            </div>
                            <h4 class="card-title">Periodontia</h4>
                            <p class="card-text preview-text">Tratamento das gengivas e estruturas de suporte dos dentes.</p>
                            <div class="details-content" id="details-3">
                                <p>Com a Periodontia, tratamos doenças das gengivas e da estrutura óssea ao redor dos dentes. A prevenção é essencial para evitar problemas graves.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="3">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="3" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Segunda página de cards -->
        <div class="carousel-item">
            <div class="card-container">
                <!-- Card 4 -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-smile"></i>
                            </div>
                            <h4 class="card-title">Odontopediatria</h4>
                            <p class="card-text preview-text">Cuidados odontológicos para crianças e adolescentes.</p>
                            <div class="details-content" id="details-4">
                                <p>A odontopediatria cuida da saúde bucal dos pequenos, desde os primeiros dentes até a adolescência. Realizamos prevenção, tratamentos e orientações sobre hábitos saudáveis.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="4">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="4" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>

                <!-- Card 5 -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-smile"></i>
                            </div>
                            <h4 class="card-title">Ortodontia</h4>
                            <p class="card-text preview-text">Correção do alinhamento dentário e melhoria estética.</p>
                            <div class="details-content" id="details-5">
                                <p>A ortodontia trata dos dentes e ossos da face, corrigindo problemas de alinhamento e oclusão para melhorar a estética e a funcionalidade da boca.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="5">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="5" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>

                <!-- Card 6 -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-teeth"></i>
                            </div>
                            <h4 class="card-title">Prótese Dentária</h4>
                            <p class="card-text preview-text">Substituição de dentes perdidos com próteses dentárias.</p>
                            <div class="details-content" id="details-6">
                                <p>A prótese dentária é uma solução para restaurar dentes faltantes, melhorando a estética e a função de mastigação.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="6">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="6" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Terceira página de cards -->
        <div class="carousel-item">
            <div class="card-container">
                <!-- Card 7 (Implantes Dentários) -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-tooth"></i> <!-- Dente -->
                            </div>
                            <h4 class="card-title">Implantes Dentários</h4>
                            <p class="card-text preview-text">Substituição de dentes perdidos com implantes duráveis.</p>
                            <div class="details-content" id="details-7">
                                <p>Os implantes dentários são a melhor solução para substituir dentes perdidos, proporcionando estética e funcionalidade duradoura.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="7">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="7" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>

                <!-- Card 8 (Lentes de Contato Dental) -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-teeth"></i> <!-- Lentes -->
                            </div>
                            <h4 class="card-title">Lentes de Contato Dental</h4>
                            <p class="card-text preview-text">Melhore a estética dos seus dentes com lentes de contato dental.</p>
                            <div class="details-content" id="details-8">
                                <p>As lentes de contato dental são ultra finas e ideais para melhorar a estética do sorriso, corrigindo a forma e cor dos dentes.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="8">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="8" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>

                <!-- Card 9 (Clareamento Dental) -->
                <div class="card-wrapper">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="service-icon mb-3">
                                <i class="fas fa-tooth"></i> <!-- Varinha mágica para clareamento -->
                            </div>
                            <h4 class="card-title">Clareamento Dental</h4>
                            <p class="card-text preview-text">Procedimento para deixar seus dentes mais brancos e brilhantes.</p>
                            <div class="details-content" id="details-9">
                                <p>O clareamento dental é um procedimento estético que remove manchas e pigmentações, deixando seus dentes visivelmente mais brancos.</p>
                            </div>
                            <button class="btn btn-outline-primary saiba-mais" data-id="9">Saiba Mais</button>
                            <button class="btn btn-outline-primary saiba-menos" data-id="9" style="display:none;">Saiba Menos</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Controles do Carrossel -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselServicos" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselServicos" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Próximo</span>
    </button>
</div>

<script>
    // JavaScript para alternar as informações adicionais e lidar com a responsividade
    document.addEventListener('DOMContentLoaded', function () {
        // Função para verificar a largura da tela e ajustar os cards conforme necessário
        function adjustCardsBasedOnScreenSize() {
            const screenWidth = window.innerWidth;
            const carouselItems = document.querySelectorAll('.carousel-item');

            carouselItems.forEach(item => {
                const cardWrappers = item.querySelectorAll('.card-wrapper');

                if (screenWidth <= 576) {
                    // Em telas pequenas, mostra apenas o primeiro card
                    cardWrappers.forEach((card, index) => {
                        if (index === 0) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                } else if (screenWidth <= 991) {
                    // Em telas médias, mostra apenas os dois primeiros cards
                    cardWrappers.forEach((card, index) => {
                        if (index < 2) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                } else {
                    // Em telas grandes, mostra todos os cards
                    cardWrappers.forEach(card => {
                        card.style.display = 'block';
                    });
                }
            });
        }

        // Ajusta os cards ao carregar a página
        adjustCardsBasedOnScreenSize();

        // Ajusta os cards quando a janela é redimensionada
        window.addEventListener('resize', adjustCardsBasedOnScreenSize);

        // Funcionalidade original para o Saiba Mais/Menos
        document.querySelectorAll('.saiba-mais').forEach(button => {
            button.addEventListener('click', function () {
                const cardId = this.getAttribute('data-id');
                const detailsContent = document.getElementById(`details-${cardId}`);
                const saibaMaisButton = this;
                const saibaMenosButton = document.querySelector(`.saiba-menos[data-id="${cardId}"]`);

                detailsContent.style.display = 'block';
                saibaMaisButton.style.display = 'none';
                saibaMenosButton.style.display = 'inline-block';
            });
        });

        document.querySelectorAll('.saiba-menos').forEach(button => {
            button.addEventListener('click', function () {
                const cardId = this.getAttribute('data-id');
                const detailsContent = document.getElementById(`details-${cardId}`);
                const saibaMaisButton = document.querySelector(`.saiba-mais[data-id="${cardId}"]`);

                detailsContent.style.display = 'none';
                saibaMaisButton.style.display = 'inline-block';
                this.style.display = 'none';
            });
        });

        // Comportamento do carousel ao passar o mouse
        const carousel = document.querySelector('#carouselServicos');
        carousel.addEventListener('mouseenter', function () {
            bootstrap.Carousel.getInstance(this).pause();
        });

        carousel.addEventListener('mouseleave', function () {
            bootstrap.Carousel.getInstance(this).cycle();
        });
    });
</script>